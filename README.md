# Commerce Web - ëª¨ë˜ ì´ì»¤ë¨¸ìŠ¤ í”Œë«í¼

Next.js 14ì™€ Supabaseë¡œ êµ¬ì¶•ëœ í˜„ëŒ€ì ì¸ ì´ì»¤ë¨¸ìŠ¤ ì›¹ì‚¬ì´íŠ¸ì…ë‹ˆë‹¤.

## ğŸ“‹ í”„ë¡œì íŠ¸ ê°œìš”

### ğŸ›  ê¸°ìˆ  ìŠ¤íƒ

- **Frontend**: Next.js 14 (App Router), TypeScript, Tailwind CSS
- **Backend**: Supabase (PostgreSQL + Auth + Storage)
- **Data Fetching**: TanStack Query (React Query v5)
- **State Management**: Zustand (persist middleware)
- **UI Components**: shadcn/ui, Lucide-icon
- **Architecture**: Atomic Design Pattern
- **Code Quality**: ESLint, Prettier, Husky, lint-staged
- **Form**: React-hook-form, Zod
- **Deploy**: Vercel
- **Payment**: í† ìŠ¤ í˜ì´ë¨¼ì¸  (ê°œë°œììš© í…ŒìŠ¤íŠ¸)

---

## ğŸš€ ìµœê·¼ ì‘ì—… í˜„í™© (2025-10-25)

### âœ… ì™„ë£Œëœ ì‘ì—…

#### 1. ë°ì´í„°ë² ì´ìŠ¤ êµ¬ì¡° ì„¤ê³„ ë° êµ¬í˜„

- **products í…Œì´ë¸” ì—…ë°ì´íŠ¸**

  - `description` (TEXT) - ìƒí’ˆ ì„¤ëª…
  - `sale_price` (NUMERIC) - í• ì¸ê°€
  - `images` (TEXT[]) - ì´ë¯¸ì§€ ë°°ì—´ (ìµœëŒ€ 8ê°œ, ì²« ë²ˆì§¸ê°€ ì¸ë„¤ì¼)
  - `review_count` (INTEGER) - ë¦¬ë·° ê°œìˆ˜ (ìë™ ì—…ë°ì´íŠ¸)
  - ê¸°ì¡´ `image_url` â†’ `images` ë°°ì—´ë¡œ ë§ˆì´ê·¸ë ˆì´ì…˜

- **reviews í…Œì´ë¸” ìƒì„±**

  - `id`, `product_id`, `user_id`
  - `user_name` (TEXT) - ë¦¬ë·° ì‘ì„±ì ì´ë¦„
  - `content` (TEXT) - ë¦¬ë·° ë‚´ìš©
  - `images` (TEXT[]) - ë¦¬ë·° ì´ë¯¸ì§€ (ì„ íƒì‚¬í•­)
  - `created_at`, `updated_at`

- **ìë™ íŠ¸ë¦¬ê±°**
  - ë¦¬ë·° ì¶”ê°€/ì‚­ì œ ì‹œ `products.review_count` ìë™ ì—…ë°ì´íŠ¸

- **wishlist í…Œì´ë¸” ìƒì„±**

  - `id`, `user_id`, `product_id`
  - ì‚¬ìš©ìë³„ ì°œëª©ë¡ ê´€ë¦¬
  - ì¤‘ë³µ ë°©ì§€ (UNIQUE ì œì•½)

- **orders í…Œì´ë¸” ì—…ë°ì´íŠ¸**
  - `customer_phone` - ì£¼ë¬¸ì ì „í™”ë²ˆí˜¸
  - `shipping_postcode` - ë°°ì†¡ì§€ ìš°í¸ë²ˆí˜¸
  - `payment_key` - í† ìŠ¤í˜ì´ë¨¼ì¸  ê²°ì œ í‚¤
  - `order_id` - í† ìŠ¤í˜ì´ë¨¼ì¸  ì£¼ë¬¸ ID
  - `payment_status` - ê²°ì œ ìƒíƒœ

#### 2. API êµ¬í˜„

##### ìƒí’ˆ API
- **GET `/api/products`** - ìƒí’ˆ ëª©ë¡ ì¡°íšŒ
  - í˜ì´ì§€ë„¤ì´ì…˜ ì§€ì› (page, limit)
  - ì¹´í…Œê³ ë¦¬ í•„í„°
  - ê²€ìƒ‰ ê¸°ëŠ¥ (ìƒí’ˆëª…)
  - ì •ë ¬ (created_at, price, name, review_count)
- **GET `/api/products/[id]`** - ìƒí’ˆ ìƒì„¸ ì¡°íšŒ
  - í• ì¸ìœ¨ ìë™ ê³„ì‚°
  - í• ì¸ ê¸ˆì•¡ ìë™ ê³„ì‚°

##### ë¦¬ë·° API
- **GET `/api/reviews/[productId]`** - ë¦¬ë·° ëª©ë¡ ì¡°íšŒ
  - í˜ì´ì§€ë„¤ì´ì…˜ ì§€ì›
  - ìµœì‹ ìˆœ ì •ë ¬

##### ì¥ë°”êµ¬ë‹ˆ API
- **GET `/api/cart`** - ì¥ë°”êµ¬ë‹ˆ ì¡°íšŒ
- **POST `/api/cart`** - ì¥ë°”êµ¬ë‹ˆ ì¶”ê°€
- **PATCH `/api/cart/[id]`** - ìˆ˜ëŸ‰ ë³€ê²½
- **DELETE `/api/cart/[id]`** - ìƒí’ˆ ì‚­ì œ

##### ì°œëª©ë¡ API
- **GET `/api/wishlist`** - ì°œëª©ë¡ ì¡°íšŒ
- **POST `/api/wishlist`** - ì°œëª©ë¡ ì¶”ê°€
- **DELETE `/api/wishlist/[id]`** - ì°œëª©ë¡ ì‚­ì œ

##### ì£¼ë¬¸/ê²°ì œ API
- **POST `/api/orders`** - ì£¼ë¬¸ ìƒì„±
  - ì¥ë°”êµ¬ë‹ˆ ê²€ì¦
  - ì¬ê³  í™•ì¸ ë° ìë™ ê°ì†Œ
  - ì£¼ë¬¸ ë° ì£¼ë¬¸ ì•„ì´í…œ ìƒì„±
- **GET `/api/orders`** - ì£¼ë¬¸ ëª©ë¡ ì¡°íšŒ (í˜ì´ì§€ë„¤ì´ì…˜)
- **GET `/api/orders/[id]`** - ì£¼ë¬¸ ìƒì„¸ ì¡°íšŒ
- **PATCH `/api/orders/[id]`** - ì£¼ë¬¸ ìƒíƒœ ì—…ë°ì´íŠ¸
- **POST `/api/confirm-payment`** - ê²°ì œ ìŠ¹ì¸
  - í† ìŠ¤í˜ì´ë¨¼ì¸  API ì—°ë™
  - ì£¼ë¬¸ ê¸ˆì•¡ ê²€ì¦
  - ì£¼ë¬¸ ìƒíƒœ ìë™ ì—…ë°ì´íŠ¸
  - ì¥ë°”êµ¬ë‹ˆ ìë™ ë¹„ìš°ê¸°

#### 3. React Query í›…

##### ìƒí’ˆ í›…
- `useProducts` - ìƒí’ˆ ëª©ë¡ ì¡°íšŒ
- `useProduct` - ìƒí’ˆ ìƒì„¸ ì¡°íšŒ
- `useProductReviews` - ë¦¬ë·° ëª©ë¡ ì¡°íšŒ

##### ì¥ë°”êµ¬ë‹ˆ í›…
- `useCartItems` - ì¥ë°”êµ¬ë‹ˆ ì•„ì´í…œ ì¡°íšŒ
- `useCartItemCount` - ì¥ë°”êµ¬ë‹ˆ ê°œìˆ˜ ì¡°íšŒ (ì‹¤ì‹œê°„ ì—…ë°ì´íŠ¸)
- `useAddToCart` - ì¥ë°”êµ¬ë‹ˆ ì¶”ê°€
- `useUpdateCartItem` - ìˆ˜ëŸ‰ ë³€ê²½
- `useRemoveFromCart` - ì¥ë°”êµ¬ë‹ˆ ì‚­ì œ
- `useIsInCart` - ìƒí’ˆ ì¥ë°”êµ¬ë‹ˆ í¬í•¨ ì—¬ë¶€

##### ì°œëª©ë¡ í›…
- `useWishlistItems` - ì°œëª©ë¡ ì¡°íšŒ
- `useWishlistItemCount` - ì°œëª©ë¡ ê°œìˆ˜ ì¡°íšŒ (ì‹¤ì‹œê°„ ì—…ë°ì´íŠ¸)
- `useAddToWishlist` - ì°œëª©ë¡ ì¶”ê°€
- `useRemoveFromWishlist` - ì°œëª©ë¡ ì‚­ì œ
- `useIsInWishlist` - ìƒí’ˆ ì°œëª©ë¡ í¬í•¨ ì—¬ë¶€

##### ì£¼ë¬¸ í›…
- `useOrders` - ì£¼ë¬¸ ëª©ë¡ ì¡°íšŒ (í˜ì´ì§€ë„¤ì´ì…˜)
- `useOrder` - ì£¼ë¬¸ ìƒì„¸ ì¡°íšŒ
- `useCreateOrder` - ì£¼ë¬¸ ìƒì„±
- `useUpdateOrder` - ì£¼ë¬¸ ìƒíƒœ ì—…ë°ì´íŠ¸

#### 4. í”„ë¡ íŠ¸ì—”ë“œ í˜ì´ì§€

##### ì‡¼í•‘ í˜ì´ì§€
- **í™ˆí˜ì´ì§€** (`/`)
  - ìµœì‹  ìƒí’ˆ/ì¸ê¸° ìƒí’ˆ ì„¹ì…˜
- **ìƒí’ˆ ëª©ë¡** (`/products`)
  - ê²€ìƒ‰, í•„í„°, ì •ë ¬
- **ìƒí’ˆ ìƒì„¸** (`/products/[id]`)
  - ë¦¬ë·° í‘œì‹œ, ê´€ë ¨ ìƒí’ˆ ì¶”ì²œ
  - ì¥ë°”êµ¬ë‹ˆ/ì°œëª©ë¡ ì¶”ê°€
- **ì¥ë°”êµ¬ë‹ˆ** (`/cart`)
  - ìƒí’ˆ ì„ íƒ, ìˆ˜ëŸ‰ ë³€ê²½
  - ì£¼ë¬¸í•˜ê¸° ë²„íŠ¼
- **ì°œëª©ë¡** (`/wishlist`)
  - ì°œí•œ ìƒí’ˆ ê´€ë¦¬
  - ì¥ë°”êµ¬ë‹ˆ ë‹´ê¸°

##### ì£¼ë¬¸/ê²°ì œ í˜ì´ì§€
- **ì£¼ë¬¸ì„œ** (`/checkout`)
  - ì£¼ë¬¸ì/ë°°ì†¡ì§€ ì •ë³´ ì…ë ¥
  - ê²°ì œ ê¸ˆì•¡ ê³„ì‚°
  - í† ìŠ¤í˜ì´ë¨¼ì¸  ì—°ë™
- **ê²°ì œ ì„±ê³µ** (`/checkout/success`)
  - ê²°ì œ ìŠ¹ì¸ ì²˜ë¦¬
  - ì£¼ë¬¸ ì™„ë£Œ ì•ˆë‚´
- **ê²°ì œ ì‹¤íŒ¨** (`/checkout/fail`)
  - ì‹¤íŒ¨ ì‚¬ìœ  í‘œì‹œ
  - ì¬ì‹œë„ ì˜µì…˜

##### ë§ˆì´í˜ì´ì§€
- **ë§ˆì´í˜ì´ì§€** (`/mypage`)
  - ì£¼ë¬¸ë‚´ì—­, ì •ë³´ìˆ˜ì •, ë¡œê·¸ì•„ì›ƒ
- **ì£¼ë¬¸ ë‚´ì—­** (`/mypage/orders`)
  - ì£¼ë¬¸ ëª©ë¡ (í˜ì´ì§€ë„¤ì´ì…˜)
  - ì£¼ë¬¸/ê²°ì œ ìƒíƒœ ë°°ì§€
- **ì£¼ë¬¸ ìƒì„¸** (`/mypage/orders/[id]`)
  - ì£¼ë¬¸ ìƒí’ˆ, ë°°ì†¡/ê²°ì œ ì •ë³´
- **ì •ë³´ ìˆ˜ì •** (`/mypage/update`)
  - íšŒì›ì •ë³´ ìˆ˜ì •
  - ë¹„ë°€ë²ˆí˜¸ ë³€ê²½

#### 5. í…ŒìŠ¤íŠ¸ ë°ì´í„°

- 8ê°œ ìƒ˜í”Œ ìƒí’ˆ (í• ì¸ê°€, ì´ë¯¸ì§€ ë°°ì—´ í¬í•¨)
- 3ê°œ ìƒ˜í”Œ ë¦¬ë·° (ì‘ì„±ì, ë‚´ìš©, ì´ë¯¸ì§€)
- review_count ìë™ ì—…ë°ì´íŠ¸ í™•ì¸ ì™„ë£Œ

---

## ğŸ¯ ë‹¤ìŒ ì‘ì—… ì˜ˆì •

### 1. ê´€ë¦¬ì ê¸°ëŠ¥

- ìƒí’ˆ ë“±ë¡/ìˆ˜ì •/ì‚­ì œ API
- ì´ë¯¸ì§€ ì—…ë¡œë“œ ê¸°ëŠ¥ (Supabase Storage)
- ì¬ê³  ê´€ë¦¬ ëŒ€ì‹œë³´ë“œ
- ì£¼ë¬¸ ê´€ë¦¬ (ìƒíƒœ ë³€ê²½)
- ë¦¬ë·° ê´€ë¦¬

### 2. ê²€ìƒ‰/í•„í„° ê³ ë„í™”

- ê°€ê²© ë²”ìœ„ í•„í„°
- ë‹¤ì¤‘ ì¹´í…Œê³ ë¦¬ í•„í„°
- ê²€ìƒ‰ ìë™ì™„ì„±
- ìµœê·¼ ê²€ìƒ‰ì–´ ì €ì¥

### 3. ì‚¬ìš©ì ê²½í—˜ ê°œì„ 

- ìƒí’ˆ ë¹„êµ ê¸°ëŠ¥
- ìµœê·¼ ë³¸ ìƒí’ˆ
- ë¦¬ë·° ì‘ì„± ê¸°ëŠ¥
- ìƒí’ˆ ë¬¸ì˜ ê¸°ëŠ¥
- ë°°ì†¡ ì¶”ì 

### 4. ì„±ëŠ¥ ìµœì í™”

- ì´ë¯¸ì§€ ìµœì í™” (Next.js Image)
- ë¬´í•œ ìŠ¤í¬ë¡¤ êµ¬í˜„
- React Query ìºì‹± ì „ëµ ê³ ë„í™”
- ì½”ë“œ ìŠ¤í”Œë¦¬íŒ…
- SSR/ISR ì ìš©

---

## ğŸ“ ì£¼ìš” íŒŒì¼ êµ¬ì¡°

```
src/
â”œâ”€â”€ app/
â”‚   â”œâ”€â”€ (shop)/
â”‚   â”‚   â”œâ”€â”€ page.tsx                    # í™ˆí˜ì´ì§€ âœ…
â”‚   â”‚   â”œâ”€â”€ products/
â”‚   â”‚   â”‚   â”œâ”€â”€ page.tsx                # ìƒí’ˆ ëª©ë¡ âœ…
â”‚   â”‚   â”‚   â””â”€â”€ [id]/page.tsx           # ìƒí’ˆ ìƒì„¸ âœ…
â”‚   â”‚   â”œâ”€â”€ cart/
â”‚   â”‚   â”‚   â””â”€â”€ page.tsx                # ì¥ë°”êµ¬ë‹ˆ âœ…
â”‚   â”‚   â”œâ”€â”€ wishlist/
â”‚   â”‚   â”‚   â””â”€â”€ page.tsx                # ì°œëª©ë¡ âœ…
â”‚   â”‚   â”œâ”€â”€ checkout/
â”‚   â”‚   â”‚   â”œâ”€â”€ page.tsx                # ì£¼ë¬¸ì„œ âœ…
â”‚   â”‚   â”‚   â”œâ”€â”€ success/page.tsx        # ê²°ì œ ì„±ê³µ âœ…
â”‚   â”‚   â”‚   â””â”€â”€ fail/page.tsx           # ê²°ì œ ì‹¤íŒ¨ âœ…
â”‚   â”‚   â””â”€â”€ mypage/
â”‚   â”‚       â”œâ”€â”€ page.tsx                # ë§ˆì´í˜ì´ì§€ âœ…
â”‚   â”‚       â”œâ”€â”€ orders/
â”‚   â”‚       â”‚   â”œâ”€â”€ page.tsx            # ì£¼ë¬¸ ëª©ë¡ âœ…
â”‚   â”‚       â”‚   â””â”€â”€ [id]/page.tsx       # ì£¼ë¬¸ ìƒì„¸ âœ…
â”‚   â”‚       â”œâ”€â”€ update/page.tsx         # ì •ë³´ ìˆ˜ì • âœ…
â”‚   â”‚       â””â”€â”€ password-check/         # ë¹„ë°€ë²ˆí˜¸ í™•ì¸ âœ…
â”‚   â”œâ”€â”€ (auth)/
â”‚   â”‚   â”œâ”€â”€ login/page.tsx              # ë¡œê·¸ì¸ âœ…
â”‚   â”‚   â””â”€â”€ register/page.tsx           # íšŒì›ê°€ì… âœ…
â”‚   â””â”€â”€ api/
â”‚       â”œâ”€â”€ products/
â”‚       â”‚   â”œâ”€â”€ route.ts                # ìƒí’ˆ ëª©ë¡ API âœ…
â”‚       â”‚   â””â”€â”€ [id]/route.ts           # ìƒí’ˆ ìƒì„¸ API âœ…
â”‚       â”œâ”€â”€ reviews/
â”‚       â”‚   â””â”€â”€ [productId]/route.ts    # ë¦¬ë·° ì¡°íšŒ API âœ…
â”‚       â”œâ”€â”€ cart/
â”‚       â”‚   â”œâ”€â”€ route.ts                # ì¥ë°”êµ¬ë‹ˆ ì¡°íšŒ/ì¶”ê°€ âœ…
â”‚       â”‚   â””â”€â”€ [id]/route.ts           # ì¥ë°”êµ¬ë‹ˆ ìˆ˜ì •/ì‚­ì œ âœ…
â”‚       â”œâ”€â”€ wishlist/
â”‚       â”‚   â”œâ”€â”€ route.ts                # ì°œëª©ë¡ ì¡°íšŒ/ì¶”ê°€ âœ…
â”‚       â”‚   â””â”€â”€ [id]/route.ts           # ì°œëª©ë¡ ì‚­ì œ âœ…
â”‚       â”œâ”€â”€ orders/
â”‚       â”‚   â”œâ”€â”€ route.ts                # ì£¼ë¬¸ ìƒì„±/ëª©ë¡ âœ…
â”‚       â”‚   â””â”€â”€ [id]/route.ts           # ì£¼ë¬¸ ìƒì„¸/ìˆ˜ì • âœ…
â”‚       â”œâ”€â”€ confirm-payment/route.ts    # ê²°ì œ ìŠ¹ì¸ âœ…
â”‚       â””â”€â”€ auth/                       # ì¸ì¦ API âœ…
â”‚           â”œâ”€â”€ login/route.ts
â”‚           â”œâ”€â”€ register/route.ts
â”‚           â”œâ”€â”€ logout/route.ts
â”‚           â”œâ”€â”€ me/route.ts
â”‚           â”œâ”€â”€ update/route.ts
â”‚           â”œâ”€â”€ verify-password/route.ts
â”‚           â””â”€â”€ delete-account/route.ts
â”œâ”€â”€ components/
â”‚   â”œâ”€â”€ atoms/                          # ê¸°ë³¸ UI ìš”ì†Œ
â”‚   â”‚   â”œâ”€â”€ Banner/                     # ë°°ë„ˆ (Hero í¬í•¨)
â”‚   â”‚   â”œâ”€â”€ Badge/                      # ë°°ì§€
â”‚   â”‚   â”œâ”€â”€ Price/                      # ê°€ê²© í‘œì‹œ
â”‚   â”‚   â””â”€â”€ Rating/                     # ë³„ì 
â”‚   â”œâ”€â”€ molecules/                      # ì¡°í•© ì»´í¬ë„ŒíŠ¸
â”‚   â”‚   â”œâ”€â”€ ProductCard/                # ìƒí’ˆ ì¹´ë“œ (í• ì¸ìœ¨ í‘œì‹œ)
â”‚   â”‚   â”œâ”€â”€ SearchBar/                  # ê²€ìƒ‰ë°”
â”‚   â”‚   â”œâ”€â”€ ProductImageGallery/        # ì´ë¯¸ì§€ ê°¤ëŸ¬ë¦¬
â”‚   â”‚   â”œâ”€â”€ ErrorModal/                 # ì—ëŸ¬ ëª¨ë‹¬ âœ…
â”‚   â”‚   â”œâ”€â”€ ConfirmModal/               # í™•ì¸ ëª¨ë‹¬ âœ…
â”‚   â”‚   â””â”€â”€ AuthRequiredModal/          # ë¡œê·¸ì¸ í•„ìš” ëª¨ë‹¬ âœ…
â”‚   â”œâ”€â”€ organisms/                      # ë³µí•© ì»´í¬ë„ŒíŠ¸
â”‚   â”‚   â”œâ”€â”€ Header/                     # í—¤ë” (ì¥ë°”êµ¬ë‹ˆ/ì°œëª©ë¡ ì¹´ìš´íŠ¸) âœ…
â”‚   â”‚   â”œâ”€â”€ ProductGrid/                # ìƒí’ˆ ê·¸ë¦¬ë“œ
â”‚   â”‚   â””â”€â”€ Footer/                     # í‘¸í„°
â”‚   â””â”€â”€ templates/                      # ë ˆì´ì•„ì›ƒ
â”‚       â”œâ”€â”€ Layout/
â”‚       â””â”€â”€ PageLayout/
â”œâ”€â”€ hooks/
â”‚   â”œâ”€â”€ auth/
â”‚   â”‚   â””â”€â”€ useAuth.ts                  # ì¸ì¦ í›… âœ…
â”‚   â”œâ”€â”€ cart/
â”‚   â”‚   â””â”€â”€ use-cart.ts                 # ì¥ë°”êµ¬ë‹ˆ í›… âœ…
â”‚   â”œâ”€â”€ wishlist/
â”‚   â”‚   â””â”€â”€ use-wishlist.ts             # ì°œëª©ë¡ í›… âœ…
â”‚   â”œâ”€â”€ order/
â”‚   â”‚   â””â”€â”€ use-order.ts                # ì£¼ë¬¸ í›… âœ…
â”‚   â””â”€â”€ product/
â”‚       â””â”€â”€ useProducts.ts              # ìƒí’ˆ/ë¦¬ë·° React Query í›… âœ…
â”œâ”€â”€ lib/
â”‚   â”œâ”€â”€ api/
â”‚   â”‚   â”œâ”€â”€ cart.ts                     # ì¥ë°”êµ¬ë‹ˆ API í´ë¼ì´ì–¸íŠ¸ âœ…
â”‚   â”‚   â”œâ”€â”€ wishlist.ts                 # ì°œëª©ë¡ API í´ë¼ì´ì–¸íŠ¸ âœ…
â”‚   â”‚   â””â”€â”€ order.ts                    # ì£¼ë¬¸ API í´ë¼ì´ì–¸íŠ¸ âœ…
â”‚   â”œâ”€â”€ supabase/
â”‚   â”‚   â”œâ”€â”€ client.ts                   # Supabase í´ë¼ì´ì–¸íŠ¸
â”‚   â”‚   â””â”€â”€ server.ts                   # Supabase Admin (ì„œë²„ìš©)
â”‚   â””â”€â”€ react-query/
â”‚       â””â”€â”€ provider.tsx                # React Query ì„¤ì •
â”œâ”€â”€ store/
â”‚   â””â”€â”€ authStore.ts                    # Zustand ì¸ì¦ ìƒíƒœ (localStorage ì§€ì†ì„±)
â””â”€â”€ types/
    â”œâ”€â”€ database.ts                     # ë°ì´í„°ë² ì´ìŠ¤ íƒ€ì…
    â””â”€â”€ product.ts                      # ìƒí’ˆ/ë¦¬ë·° íƒ€ì… âœ…
```

---

## ğŸ—„ï¸ ë°ì´í„°ë² ì´ìŠ¤ ìŠ¤í‚¤ë§ˆ

### products í…Œì´ë¸”

```sql
- id (uuid, PK)
- name (text)
- description (text)
- price (numeric)
- sale_price (numeric, nullable)      -- í• ì¸ê°€
- category (text)
- stock (integer)
- images (text[])                     -- ì´ë¯¸ì§€ ë°°ì—´ (ì²« ë²ˆì§¸ê°€ ì¸ë„¤ì¼)
- review_count (integer, default 0)   -- ìë™ ì—…ë°ì´íŠ¸
- created_at (timestamptz)
- updated_at (timestamptz)
```

### reviews í…Œì´ë¸”

```sql
- id (uuid, PK)
- product_id (uuid, FK â†’ products.id)
- user_id (uuid, FK â†’ commerce_user.id)
- user_name (text)                    -- ì‘ì„±ì ì´ë¦„ (ì‘ì„± ì‹œì  ê³ ì •)
- content (text)
- images (text[])                     -- ë¦¬ë·° ì´ë¯¸ì§€ (ì„ íƒì‚¬í•­)
- created_at (timestamptz)
- updated_at (timestamptz)

-- íŠ¸ë¦¬ê±°: review ì¶”ê°€/ì‚­ì œ ì‹œ products.review_count ìë™ ì—…ë°ì´íŠ¸
```

### commerce_user í…Œì´ë¸”

```sql
- id (uuid, PK)
- user_id (varchar, unique)
- password (varchar)
- name (varchar)
- email (varchar, unique)
- phone (varchar)
- address (text)
- marketing_agreed (boolean)
- benefits_agreed (boolean)
- created_at (timestamptz)
- updated_at (timestamptz)
```

---

## ğŸ¯ í•µì‹¬ ê¸°ëŠ¥

### âœ… ì™„ë£Œëœ ê¸°ëŠ¥

#### ì¸ì¦ ì‹œìŠ¤í…œ

- âœ… íšŒì›ê°€ì… (React Query + Zustand)
- âœ… ë¡œê·¸ì¸/ë¡œê·¸ì•„ì›ƒ
- âœ… ë§ˆì´í˜ì´ì§€
- âœ… íšŒì›ì •ë³´ ìˆ˜ì •
- âœ… ë¹„ë°€ë²ˆí˜¸ ë³€ê²½
- âœ… íšŒì› íƒˆí‡´
- âœ… ì„¸ì…˜ ê¸°ë°˜ ì¸ì¦ (HTTP-only ì¿ í‚¤)

#### ìƒí’ˆ ì‹œìŠ¤í…œ

- âœ… ìƒí’ˆ ëª©ë¡ ì¡°íšŒ (í˜ì´ì§€ë„¤ì´ì…˜, ê²€ìƒ‰, í•„í„°, ì •ë ¬)
- âœ… ìƒí’ˆ ìƒì„¸ ì¡°íšŒ (í• ì¸ìœ¨ ìë™ ê³„ì‚°)
- âœ… í• ì¸ ë°°ì§€ í‘œì‹œ (í¼ì„¼íŠ¸)
- âœ… ì¬ê³  ê´€ë¦¬ (stock í•„ë“œ)
- âœ… ì´ë¯¸ì§€ ê°¤ëŸ¬ë¦¬ (ì—¬ëŸ¬ ì´ë¯¸ì§€ ì§€ì›)
- âœ… ê´€ë ¨ ìƒí’ˆ ì¶”ì²œ (ê°™ì€ ì¹´í…Œê³ ë¦¬)

#### ë¦¬ë·° ì‹œìŠ¤í…œ

- âœ… ë¦¬ë·° ëª©ë¡ ì¡°íšŒ (í˜ì´ì§€ë„¤ì´ì…˜)
- âœ… ë¦¬ë·° ì‘ì„±ì ì´ë¦„ í‘œì‹œ
- âœ… ë¦¬ë·° ì´ë¯¸ì§€ ê°¤ëŸ¬ë¦¬
- âœ… review_count ìë™ ì—…ë°ì´íŠ¸ (íŠ¸ë¦¬ê±°)
- âœ… ë¹ˆ ìƒíƒœ ì²˜ë¦¬

#### UI/UX

- âœ… ë°˜ì‘í˜• ë””ìì¸
- âœ… Hero ë°°ë„ˆ (ì´ë¯¸ì§€ ìŠ¬ë¼ì´ë”)
- âœ… ì¹´í…Œê³ ë¦¬ ë“œë¡­ë‹¤ìš´ (hover)
- âœ… ë¡œë”© ìƒíƒœ í‘œì‹œ
- âœ… ì—ëŸ¬ ëª¨ë‹¬ (ErrorModal, ConfirmModal, AuthRequiredModal)

#### ì¥ë°”êµ¬ë‹ˆ ì‹œìŠ¤í…œ

- âœ… ì¥ë°”êµ¬ë‹ˆ ì¡°íšŒ (ì‹¤ì‹œê°„ ì¹´ìš´íŠ¸)
- âœ… ìƒí’ˆ ì¶”ê°€/ì‚­ì œ
- âœ… ìˆ˜ëŸ‰ ë³€ê²½
- âœ… ì„ íƒ ì£¼ë¬¸ ê¸°ëŠ¥
- âœ… í—¤ë” ì¹´ìš´íŠ¸ ë°°ì§€

#### ì°œëª©ë¡ ì‹œìŠ¤í…œ

- âœ… ì°œëª©ë¡ ì¡°íšŒ (ì‹¤ì‹œê°„ ì¹´ìš´íŠ¸)
- âœ… ì°œëª©ë¡ ì¶”ê°€/ì‚­ì œ
- âœ… ì¥ë°”êµ¬ë‹ˆ ë‹´ê¸° (ìë™ ì°œëª©ë¡ ì œê±°)
- âœ… í—¤ë” ì¹´ìš´íŠ¸ ë°°ì§€

#### ì£¼ë¬¸/ê²°ì œ ì‹œìŠ¤í…œ

- âœ… ì£¼ë¬¸ì„œ ì‘ì„± (ì£¼ë¬¸ì/ë°°ì†¡ì§€ ì •ë³´)
- âœ… í† ìŠ¤í˜ì´ë¨¼ì¸  ê²°ì œ ì—°ë™
- âœ… ê²°ì œ ìŠ¹ì¸ ì²˜ë¦¬
- âœ… ì£¼ë¬¸ ìƒì„± ë° ì¬ê³  ìë™ ê°ì†Œ
- âœ… ê²°ì œ ì„±ê³µ/ì‹¤íŒ¨ í˜ì´ì§€
- âœ… ì£¼ë¬¸ ë‚´ì—­ ì¡°íšŒ (í˜ì´ì§€ë„¤ì´ì…˜)
- âœ… ì£¼ë¬¸ ìƒì„¸ ì¡°íšŒ
- âœ… ê²°ì œ í›„ ì¥ë°”êµ¬ë‹ˆ ìë™ ë¹„ìš°ê¸°

### â³ ì§„í–‰ ì˜ˆì •

- â³ ê´€ë¦¬ì í˜ì´ì§€ (ìƒí’ˆ/ì£¼ë¬¸ ê´€ë¦¬)
- â³ ë¦¬ë·° ì‘ì„± ê¸°ëŠ¥
- â³ ì´ë¯¸ì§€ ì—…ë¡œë“œ (Supabase Storage)
- â³ ê²€ìƒ‰ ìë™ì™„ì„±
- â³ ë¬´í•œ ìŠ¤í¬ë¡¤
- â³ ë°°ì†¡ ì¶”ì 

---

## ğŸ”§ ê°œë°œ ê°€ì´ë“œ

### í™˜ê²½ ë³€ìˆ˜ (.env.local)

```env
NEXT_PUBLIC_SUPABASE_URL=your_supabase_url
NEXT_PUBLIC_SUPABASE_ANON_KEY=your_anon_key
SUPABASE_SERVICE_ROLE_KEY=your_service_role_key
NEXT_PUBLIC_APP_URL=http://localhost:3000
NEXT_PUBLIC_TOSS_CLIENT_KEY=test_ck_...
TOSS_SECRET_KEY=test_sk_...
```

### ì„¤ì¹˜ ë° ì‹¤í–‰

```bash
# ì˜ì¡´ì„± ì„¤ì¹˜
npm install

# ê°œë°œ ì„œë²„ ì‹¤í–‰
npm run dev

# ë¹Œë“œ
npm run build

# í”„ë¡œë•ì…˜ ì‹¤í–‰
npm start
```

### ì½”ë”© ê·œì¹™

- TypeScript ì—„ê²© ëª¨ë“œ ì‚¬ìš©
- Tailwind CSSë¡œ ìŠ¤íƒ€ì¼ë§
- Atomic Design Pattern ì¤€ìˆ˜
- React Queryë¡œ ì„œë²„ ìƒíƒœ ê´€ë¦¬
- Zustandë¡œ í´ë¼ì´ì–¸íŠ¸ ìƒíƒœ ê´€ë¦¬

### ì»´í¬ë„ŒíŠ¸ ì‘ì„± ê·œì¹™

- ëª¨ë“  ì»´í¬ë„ŒíŠ¸ì— TypeScript ì¸í„°í˜ì´ìŠ¤ ì •ì˜
- forwardRef ì‚¬ìš© ì‹œ ref ì „ë‹¬ ê³ ë ¤
- ì ‘ê·¼ì„± ì†ì„± í¬í•¨
- PascalCase ë„¤ì´ë° ì»¨ë²¤ì…˜
- Named exportì™€ default export í•¨ê»˜ ì‚¬ìš©

---

## ğŸ“Š ì„±ëŠ¥ ê³ ë ¤ì‚¬í•­

- React Query ìºì‹± (staleTime: 5ë¶„)
- Next.js Image ì»´í¬ë„ŒíŠ¸ ì‚¬ìš©
- ì¡°ê±´ë¶€ ì¿¼ë¦¬ ì‹¤í–‰ (enabled)
- ì—ëŸ¬ ì¬ì‹œë„ ì „ëµ (401/403/404 ì œì™¸)
- ì ì ˆí•œ ë¡œë”© ìƒíƒœ êµ¬í˜„

---

## ğŸ¨ UI/UX ê°€ì´ë“œë¼ì¸

- shadcn/ui ì»´í¬ë„ŒíŠ¸ ìš°ì„  ì‚¬ìš©
- ë°˜ì‘í˜• ë””ìì¸ (ëª¨ë°”ì¼ í¼ìŠ¤íŠ¸)
- ì¼ê´€ëœ ìŠ¤í˜ì´ì‹± ë° íƒ€ì´í¬ê·¸ë˜í”¼
- ì ‘ê·¼ì„± ê³ ë ¤ (WCAG 2.1 AA)
- ë¡œë”©/ì—ëŸ¬ ìƒíƒœ ëª…í™•íˆ í‘œì‹œ

---

## ğŸ“ Git ì»¤ë°‹ ê·œì¹™

- Conventional Commits ì‚¬ìš©
- ì˜ˆ: `feat:`, `fix:`, `docs:`, `style:`, `refactor:`, `test:`, `chore:`

### ìµœê·¼ ì»¤ë°‹

```
feat: ì™„ì „í•œ ì£¼ë¬¸/ê²°ì œ ì‹œìŠ¤í…œ ë° ì°œëª©ë¡ êµ¬í˜„ (2025-10-25)
- ì£¼ë¬¸/ê²°ì œ ì‹œìŠ¤í…œ ì™„ì „ êµ¬í˜„
- ì°œëª©ë¡ ê¸°ëŠ¥ êµ¬í˜„
- ì¥ë°”êµ¬ë‹ˆ ì„ íƒ ì£¼ë¬¸ ê¸°ëŠ¥
- í† ìŠ¤í˜ì´ë¨¼ì¸  í†µí•©
- ì£¼ë¬¸ ë‚´ì—­ ë° ìƒì„¸ í˜ì´ì§€

e2855fb - feat: ìƒí’ˆ API ë° ë¦¬ë·° ì‹œìŠ¤í…œ ì™„ì „ êµ¬í˜„ (2025-10-23)
b6838ac - feat: ì™„ì „í•œ ì¸ì¦ ì‹œìŠ¤í…œ ë° íšŒì›ì •ë³´ ê´€ë¦¬ êµ¬í˜„
6045449 - feat: ì»¤ë¨¸ìŠ¤ ì›¹í˜ì´ì§€ ê¸°ë³¸ì ì¸ UI êµ¬í˜„, tossPayment Test ì—°ë™
```

---

## ğŸ“š ì°¸ê³  ìë£Œ

- [Next.js 14 ë¬¸ì„œ](https://nextjs.org/docs)
- [Supabase ë¬¸ì„œ](https://supabase.com/docs)
- [TanStack Query ë¬¸ì„œ](https://tanstack.com/query/latest)
- [shadcn/ui ë¬¸ì„œ](https://ui.shadcn.com)
- [Tailwind CSS ë¬¸ì„œ](https://tailwindcss.com/docs)

---

## ğŸ‘¨â€ğŸ’» ë‹¤ìŒ ì„¸ì…˜ ì‹œì‘ ì‹œ

```bash
# ìµœê·¼ ì»¤ë°‹ í™•ì¸
git log --oneline -5

# í”„ë¡œì íŠ¸ êµ¬ì¡° í™•ì¸
tree src/ -L 2

# ê°œë°œ ì„œë²„ ì‹¤í–‰
npm run dev
```

ğŸ¯ ë‹¤ìŒ ì„¸ì…˜ ì‹œì‘ ì‹œ ì´ë ‡ê²Œ ìš”ì²­í•˜ì„¸ìš”:

READMEë¥¼ í™•ì¸í•˜ê³  ë‹¤ìŒ ì‘ì—…ì„ ì œì•ˆí•´ì¤˜

ë˜ëŠ”

ìµœê·¼ ì»¤ë°‹ì„ í™•ì¸í•˜ê³  ì¥ë°”êµ¬ë‹ˆ ê¸°ëŠ¥ êµ¬í˜„ì„ ë„ì™€ì¤˜

**ë‹¤ìŒ ì‘ì—… ì œì•ˆ ìš”ì²­ ì˜ˆì‹œ**:

- "ìµœê·¼ ì»¤ë°‹ì„ í™•ì¸í•˜ê³  ë‹¤ìŒ ì‘ì—…ì„ ì œì•ˆí•´ì¤˜"
- "ì¥ë°”êµ¬ë‹ˆ ê¸°ëŠ¥ êµ¬í˜„ì„ ë„ì™€ì¤˜"
- "ê´€ë¦¬ì í˜ì´ì§€ ë§Œë“¤ì–´ì¤˜"
